#!/bin/bash

function header {
	[ -f "/usr/include/$1" ] && echo "#include \"$1\""
	[ -f "/usr/include/$(gcc -dumpmachine)/$1" ] && echo "#include \"$(gcc -dumpmachine)/$1\""
}

cat <<END
#define _GNU_SOURCE
END

header "aio.h"
header "aliases.h"
header "alloca.h"
header "a.out.h"
header "argp.h"
header "argz.h"
header "ar.h"
header "arpa/ftp.h"
header "arpa/inet.h"
header "arpa/nameser_compat.h"
header "arpa/nameser.h"
header "arpa/telnet.h"
header "arpa/tftp.h"
header "assert.h"
header "byteswap.h"
header "complex.h"
header "cpio.h"
header "ctype.h"
header "dirent.h"
header "dlfcn.h"
header "elf.h"
header "endian.h"
header "envz.h"
header "err.h"
header "errno.h"
header "error.h"
header "execinfo.h"
header "fcntl.h"
header "features.h"
header "fenv.h"
header "fmtmsg.h"
header "fnmatch.h"
header "fpu_control.h"
header "fstab.h"
header "fts.h"
header "ftw.h"
header "gconv.h"
header "getopt.h"
header "glob.h"
header "gnu/libc-version.h"
header "gnu/lib-names.h"
header "gnu/stubs.h"
header "gnu-versions.h"
header "grp.h"
header "gshadow.h"
header "iconv.h"
header "ieee754.h"
header "ifaddrs.h"
header "inttypes.h"
header "langinfo.h"
header "lastlog.h"
header "libgen.h"
header "libintl.h"
header "limits.h"
header "link.h"
header "locale.h"
header "malloc.h"
header "math.h"
header "mcheck.h"
header "memory.h"
header "mntent.h"
header "monetary.h"
header "mqueue.h"
header "netash/ash.h"
header "netatalk/at.h"
header "netax25/ax25.h"
header "netdb.h"
header "neteconet/ec.h"
header "net/ethernet.h"
header "net/if_arp.h"
header "net/if.h"
header "net/if_packet.h"
header "net/if_ppp.h"
header "net/if_shaper.h"
header "net/if_slip.h"
header "netinet/ether.h"
header "netinet/icmp6.h"
header "netinet/if_ether.h"
header "netinet/if_fddi.h"
header "netinet/if_tr.h"
header "netinet/igmp.h"
header "netinet/in.h"
header "netinet/in_systm.h"
header "netinet/ip6.h"
header "netinet/ip.h"
header "netinet/ip_icmp.h"
header "netinet/tcp.h"
header "netinet/udp.h"
header "netipx/ipx.h"
header "netiucv/iucv.h"
header "netpacket/packet.h"
header "net/ppp-comp.h"
header "net/ppp_defs.h"
header "netrom/netrom.h"
header "netrose/rose.h"
header "net/route.h"
header "nfs/nfs.h"
header "nl_types.h"
header "nss.h"
header "obstack.h"
header "paths.h"
header "poll.h"
header "printf.h"
header "proc_service.h"
header "protocols/routed.h"
header "protocols/rwhod.h"
header "protocols/talkd.h"
header "protocols/timed.h"
header "pthread.h"
header "pty.h"
header "pwd.h"
header "re_comp.h"
header "regex.h"
header "resolv.h"
header " <rpc/auth_des.h"
header " <rpc/auth.h"
header " <rpc/auth_unix.h"
header " <rpc/clnt.h"
header " <rpc/key_prot.h"
header " <rpc/netdb.h"
header " <rpc/pmap_clnt.h"
header " <rpc/pmap_prot.h"
header " <rpc/pmap_rmt.h"
header " <rpc/rpc.h"
header " <rpc/svc_auth.h"
header " <rpcsvc/bootparam.h"
header " <rpcsvc/bootparam_prot.h"
header " <rpc/svc.h"
header " <rpcsvc/key_prot.h"
header " <rpcsvc/klm_prot.h"
header " <rpcsvc/mount.h"
header " <rpcsvc/nfs_prot.h"
header " <rpcsvc/nis_callback.h"
header " <rpcsvc/nis.h"
header " <rpcsvc/nislib.h"
header " <rpcsvc/nis_tags.h"
header " <rpcsvc/nlm_prot.h"
header " <rpcsvc/rex.h"
header " <rpcsvc/rquota.h"
header " <rpcsvc/rstat.h"
header " <rpcsvc/rusers.h"
header " <rpcsvc/sm_inter.h"
header " <rpcsvc/spray.h"
header " <rpcsvc/ypclnt.h"
header " <rpcsvc/yp.h"
header " <rpcsvc/yppasswd.h"
header " <rpcsvc/yp_prot.h"
header " <rpcsvc/ypupd.h"
header " <rpc/types.h"
header " <rpc/xdr.h"
header "sched.h"
header "scsi/scsi.h"
header "scsi/scsi_ioctl.h"
header "scsi/sg.h"
header "search.h"
header "semaphore.h"
header "setjmp.h"
header "sgtty.h"
header "shadow.h"
header "signal.h"
header "spawn.h"
header "stab.h"
header "stdc-predef.h"
header "stdint.h"
header "stdio_ext.h"
header "stdio.h"
header "stdlib.h"
header "string.h"
header "strings.h"
header "sys/acct.h"
header "sys/auxv.h"
header "sys/bitypes.h"
header "syscall.h"
header "sys/cdefs.h"
header "sys/debugreg.h"
header "sys/dir.h"
header " <sys/elf.h"
header "sys/epoll.h"
header "sys/errno.h"
header "sys/eventfd.h"
header "sysexits.h"
header "sys/fanotify.h"
header "sys/fcntl.h"
header "sys/file.h"
header "sys/fsuid.h"
header "sys/gmon.h"
header "sys/gmon_out.h"
header "sys/inotify.h"
header "sys/ioctl.h"
header "sys/io.h"
header "sys/ipc.h"
header "sys/kd.h"
header "sys/klog.h"
header "syslog.h"
header "sys/mman.h"
header "sys/mount.h"
header "sys/msg.h"
header "sys/mtio.h"
header "sys/param.h"
header "sys/pci.h"
header "sys/perm.h"
header "sys/personality.h"
header "sys/poll.h"
header "sys/prctl.h"
header "sys/procfs.h"
header "sys/profil.h"
header "sys/ptrace.h"
header "sys/queue.h"
header "sys/quota.h"
header "sys/random.h"
header "sys/raw.h"
header "sys/reboot.h"
header "sys/reg.h"
header "sys/resource.h"
header "sys/select.h"
header "sys/sem.h"
header "sys/sendfile.h"
header "sys/shm.h"
header "sys/signalfd.h"
header "sys/signal.h"
header "sys/socket.h"
header "sys/socketvar.h"
header "sys/soundcard.h"
header "sys/statfs.h"
header "sys/stat.h"
header "sys/statvfs.h"
header "sys/swap.h"
header "sys/syscall.h"
header " <sys/sysctl.h"
header "sys/sysinfo.h"
header "sys/syslog.h"
header "sys/sysmacros.h"
header "sys/termios.h"
header "sys/timeb.h"
header "sys/time.h"
header "sys/timerfd.h"
header "sys/times.h"
header "sys/timex.h"
header "sys/ttychars.h"
header "sys/ttydefaults.h"
header "sys/types.h"
header "sys/ucontext.h"
header "sys/uio.h"
header "sys/un.h"
header "sys/unistd.h"
header "sys/user.h"
header "sys/utsname.h"
header "sys/vfs.h"
header "sys/vlimit.h"
header " <sys/vm86.h"
header "sys/vt.h"
header "sys/wait.h"
header "sys/xattr.h"
header "tar.h"
header "termio.h"
header "termios.h"
header "tgmath.h"
header "thread_db.h"
header "threads.h"
header "time.h"
header "ttyent.h"
header "uchar.h"
header "ucontext.h"
header "ulimit.h"
header "unistd.h"
header "utime.h"
header "utmp.h"
header "utmpx.h"
header "values.h"
header "wait.h"
header "wchar.h"
header "wctype.h"
header "wordexp.h"

header "linux/userfaultfd.h"

cat <<END
int main(int argv, char **argc, char **envp)
{
	$1;
}
END
